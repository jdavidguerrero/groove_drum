# ğŸ’¡ Esquema de Colores LED - Universal Idle + Colores Personalizados

## ğŸ¨ Concepto de DiseÃ±o

**Idle:** Todos los LEDs en el mismo color blanco azulado suave (coherencia visual)
**Hit:** Cada pad tiene su color Ãºnico asignado (identificaciÃ³n visual instantÃ¡nea)

## ğŸŒŸ Paleta de Colores

### Estado IDLE (Reposo) - Universal
Todos los pads brillan con el mismo color blanco azulado suave.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  TODOS LOS PADS EN REPOSO                    â”‚
â”‚                     (40% Brightness)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚         â–°â–°â–°   â–°â–°â–°   â–°â–°â–°   â–°â–°â–°                               â”‚
â”‚        Kick  Snare HiHat  Tom                                â”‚
â”‚                                                              â”‚
â”‚     Color Universal: Blanco Azulado                          â”‚
â”‚     RGB(100, 120, 140)                                       â”‚
â”‚     #64788C                                                  â”‚
â”‚                                                              â”‚
â”‚     Efecto: Suave iluminaciÃ³n ambiente uniforme              â”‚
â”‚     que no distrae pero indica que el sistema                â”‚
â”‚     estÃ¡ activo y listo para tocar.                          â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Estado HIT (Al Golpear) - Colores Ãšnicos
Cada pad explota con su color caracterÃ­stico asignado.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   COLORES AL GOLPEAR                         â”‚
â”‚                  (100-255 Brightness)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  ğŸ¥ Kick (Pad 0)    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   CIAN ğŸŒŠ                      â”‚
â”‚                     RGB(0, 255, 255)                         â”‚
â”‚                     #00FFFF                                  â”‚
â”‚                     Azul agua elÃ©ctrico                      â”‚
â”‚                                                              â”‚
â”‚  ğŸ¥ Snare (Pad 1)   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   ROSA ğŸ’—                      â”‚
â”‚                     RGB(255, 50, 150)                        â”‚
â”‚                     #FF3296                                  â”‚
â”‚                     Rosa/magenta vibrante                    â”‚
â”‚                                                              â”‚
â”‚  ğŸ¥ HiHat (Pad 2)   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   AMARILLO âš¡                  â”‚
â”‚                     RGB(255, 255, 0)                         â”‚
â”‚                     #FFFF00                                  â”‚
â”‚                     Amarillo brillante puro                  â”‚
â”‚                                                              â”‚
â”‚  ğŸ¥ Tom (Pad 3)     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   VERDE ğŸŒ¿                     â”‚
â”‚                     RGB(0, 255, 100)                         â”‚
â”‚                     #00FF64                                  â”‚
â”‚                     Verde esmeralda brillante                â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¬ AnimaciÃ³n Visual

### Secuencia Temporal (300ms fade)

```
   IDLE (Reposo)        Hit Detectado        Fade Suave         Retorno a Idle
       40%                   100%              80% â†’ 40%             40%

    â–° â–° â–° â–°           ğŸŒŠ â–° â–° â–°            ğŸŒŠ â–° â–° â–°          â–° â–° â–° â–°
   Blanco azul         Cian brillante      Fade gradual      Blanco azul
                           â–ˆâ–ˆâ–ˆ                â–ˆâ–ˆ â†’ â–°

    â”‚                      â”‚                   â”‚                  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    Esperando            0ms                 150ms             300ms
```

### Ejemplo de Secuencia de BaterÃ­a:

```
   Tiempo:    0ms      100ms     200ms     300ms     400ms

   Kick:      ğŸŒŠâ–ˆâ–ˆâ–ˆ     ğŸŒŠâ–ˆâ–ˆ      ğŸŒŠâ–°       â–°         â–°

   Snare:     â–°         ğŸ’—â–ˆâ–ˆâ–ˆ     ğŸ’—â–ˆâ–ˆ      ğŸ’—â–°       â–°

   HiHat:     â–°         â–°         âš¡â–ˆâ–ˆâ–ˆ     âš¡â–ˆâ–ˆ      âš¡â–°

   Tom:       â–°         â–°         â–°         ğŸŒ¿â–ˆâ–ˆâ–ˆ     ğŸŒ¿â–ˆâ–ˆ

   Resultado: Cascada de colores sincronizada con tu ritmo! ğŸµ
```

## ğŸ“Š Tabla de Referencia Completa

### Color Idle (Universal):
| Estado | R   | G   | B   | Hex     | Brightness | DescripciÃ³n        |
|--------|-----|-----|-----|---------|------------|--------------------|
| Idle   | 100 | 120 | 140 | #64788C | 40%        | Blanco azul suave  |

### Colores Hit (Por Pad):
| Pad | Instrumento | R   | G   | B   | Hex     | Color      | Emoji |
|-----|-------------|-----|-----|-----|---------|------------|-------|
| 0   | Kick        | 0   | 255 | 255 | #00FFFF | Cian       | ğŸŒŠ    |
| 1   | Snare       | 255 | 50  | 150 | #FF3296 | Rosa       | ğŸ’—    |
| 2   | HiHat       | 255 | 255 | 0   | #FFFF00 | Amarillo   | âš¡    |
| 3   | Tom         | 0   | 255 | 100 | #00FF64 | Verde      | ğŸŒ¿    |

## ğŸ¯ Ventajas de Este Esquema

### âœ… Coherencia Visual
- En reposo: Todos iguales = sistema unificado y profesional
- No hay colores que compitan por atenciÃ³n cuando no estÃ¡s tocando

### âœ… IdentificaciÃ³n InstantÃ¡nea
- Al golpear: Color Ãºnico por pad = sabes exactamente quÃ© golpeaste
- Ideal para aprender patrones complejos

### âœ… Efecto DramÃ¡tico
- Contraste fuerte entre idle (blanco azulado) y hit (colores vibrantes)
- El cambio es muy visible y satisfactorio visualmente

### âœ… Personalizable
- FÃ¡cil cambiar colores editando el array `PAD_LED_HIT_COLORS`
- Usuarios pueden configurar sus colores favoritos

## ğŸ”§ PersonalizaciÃ³n de Colores

### Cambiar colores al golpear

Edita en [main.cpp](src/main_brain/main.cpp) lÃ­neas 70-75:

```cpp
const CRGB PAD_LED_HIT_COLORS[4] = {
    CRGB(0, 255, 255),    // Pad 0: Kick - Cian
    CRGB(255, 50, 150),   // Pad 1: Snare - Rosa
    CRGB(255, 255, 0),    // Pad 2: HiHat - Amarillo
    CRGB(0, 255, 100)     // Pad 3: Tom - Verde
};
```

**Ejemplos de otros colores:**

```cpp
// Esquema "Fire" (fuego):
CRGB(255, 0, 0),      // Rojo
CRGB(255, 100, 0),    // Naranja
CRGB(255, 200, 0),    // Amarillo fuego
CRGB(255, 50, 0)      // Naranja rojizo

// Esquema "Ocean" (ocÃ©ano):
CRGB(0, 100, 255),    // Azul profundo
CRGB(0, 200, 255),    // Azul cielo
CRGB(0, 255, 200),    // Turquesa
CRGB(100, 255, 255)   // Azul claro

// Esquema "Sunset" (atardecer):
CRGB(255, 50, 100),   // Rosa atardecer
CRGB(255, 100, 50),   // Naranja
CRGB(200, 0, 100),    // PÃºrpura
CRGB(255, 200, 0)     // Dorado

// Esquema "Neon":
CRGB(255, 0, 255),    // Magenta neÃ³n
CRGB(0, 255, 0),      // Verde neÃ³n
CRGB(255, 255, 0),    // Amarillo neÃ³n
CRGB(0, 255, 255)     // Cian neÃ³n
```

### Cambiar color idle

Edita en [main.cpp](src/main_brain/main.cpp) lÃ­nea 67:

```cpp
const CRGB PAD_LED_IDLE_COLOR = CRGB(100, 120, 140);  // â† Cambia estos valores
```

**Ejemplos:**

```cpp
// MÃ¡s azul:
CRGB(50, 80, 150)     // Azul mÃ¡s saturado

// MÃ¡s blanco:
CRGB(120, 130, 140)   // Casi blanco puro

// Tinte verde:
CRGB(100, 140, 120)   // Blanco verdoso

// Tinte rosa:
CRGB(140, 100, 120)   // Blanco rosado
```

### Ajustar brillo

En [main.cpp](src/main_brain/main.cpp):

**Brillo Idle (lÃ­nea 154):**
```cpp
NeoPixelController::setIdleColor(i, idleColor, 40);  // â† 40%
//                                              ^^
//                                              Valores: 0-100
//                                              20 = muy tenue
//                                              40 = suave (actual)
//                                              60 = medio
//                                              80 = brillante
```

**Velocidad de fade (lÃ­nea 231):**
```cpp
NeoPixelController::flashPad(event.padId, hitColor, brightness, 300);
//                                                              ^^^
//                                                              Milisegundos
//                                                              100 = muy rÃ¡pido
//                                                              300 = suave (actual)
//                                                              500 = lento/dramÃ¡tico
```

## ğŸ“ ImplementaciÃ³n en el CÃ³digo

### InicializaciÃ³n (setup):
```cpp
// Un solo color para todos en idle
uint32_t idleColor = ((uint32_t)PAD_LED_IDLE_COLOR.r << 16) |
                     ((uint32_t)PAD_LED_IDLE_COLOR.g << 8) |
                     PAD_LED_IDLE_COLOR.b;

for (uint8_t i = 0; i < NUM_PADS; i++) {
    NeoPixelController::setIdleColor(i, idleColor, 40);
}
```

### Al detectar golpe (processHitEvents):
```cpp
// Color especÃ­fico del pad
CRGB color = PAD_LED_HIT_COLORS[event.padId];
uint32_t hitColor = ((uint32_t)color.r << 16) |
                    ((uint32_t)color.g << 8) |
                    color.b;

// Brillo segÃºn velocidad del golpe
uint8_t brightness = map(event.velocity, 0, 127, 100, 255);

// Flash con fade de 300ms
NeoPixelController::flashPad(event.padId, hitColor, brightness, 300);
```

## ğŸ¨ VisualizaciÃ³n del Efecto

### Vista desde arriba de tu baterÃ­a:

```
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚    DRUM MODULE      â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                       â”‚
    â”Œâ”€â”€â”€â–¼â”€â”€â”€â”               â”Œâ”€â”€â”€â–¼â”€â”€â”€â”
    â”‚ â–° â–° â–° â”‚               â”‚ â–° â–° â–° â”‚
    â”‚ Kick  â”‚               â”‚ Snare â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”˜
      Idle                    Idle

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”
    â”‚ â–° â–° â–° â”‚               â”‚ â–° â–° â–° â”‚
    â”‚ HiHat â”‚               â”‚ Tom   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”˜
      Idle                    Idle
```

### Cuando tocas una secuencia (Kick â†’ Snare â†’ HiHat):

```
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ğŸŒŠ â–ˆâ–ˆâ–ˆ â”‚               â”‚ â–° â–° â–° â”‚     â† Kick golpeado (CIAN)
    â”‚ Kick  â”‚               â”‚ Snare â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ğŸŒŠ â–° â–° â”‚               â”‚ ğŸ’— â–ˆâ–ˆâ–ˆ â”‚     â† Snare golpeado (ROSA)
    â”‚ Kick  â”‚               â”‚ Snare â”‚       Kick volviendo a idle
    â””â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”
    â”‚ â–° â–° â–° â”‚               â”‚ ğŸ’— â–° â–° â”‚     â† HiHat golpeado (AMARILLO)
    â”‚ HiHat â”‚               â”‚ Snare â”‚       Otros volviendo a idle
    â””â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”˜
    âš¡ â–ˆâ–ˆâ–ˆ
```

## ğŸš€ PrÃ³ximos Pasos

### IntegraciÃ³n con GUI:
En el futuro, estos colores serÃ¡n configurables desde la interfaz grÃ¡fica:

```cpp
// Usuario selecciona color desde GUI
PadConfig& cfg = PadConfigManager::getConfig(padId);
cfg.ledColorHit = userSelectedColor;  // Color personalizado
cfg.ledColorIdle = PAD_LED_IDLE_COLOR;  // O tambiÃ©n configurable

// Guardar en NVS
PadConfigManager::saveToNVS();
```

---

**Esquema actual:** Idle universal (blanco azul) | Hit colors (Cian/Rosa/Amarillo/Verde)
**Fade duration:** 300ms
**Idle brightness:** 40%
**Hit brightness:** 100-255% (velocity-mapped)
**Ãšltima actualizaciÃ³n:** 2025-12-05

Â¡Disfruta del show de luces! ğŸ¥âœ¨
